!function(e){var t={};function n(a){if(t[a])return t[a].exports;var E=t[a]={i:a,l:!1,exports:{}};return e[a].call(E.exports,E,E.exports,n),E.l=!0,E.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var E in e)n.d(a,E,function(t){return e[t]}.bind(null,E));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/",n(n.s=14)}({0:function(e,t,n){var a;a=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var E=t[a]={i:a,l:!1,exports:{}};return e[a].call(E.exports,E,E.exports,n),E.l=!0,E.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var E in e)n.d(a,E,function(t){return e[t]}.bind(null,E));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/main/index.js")}({"./node_modules/@babel/runtime/helpers/asyncToGenerator.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/asyncToGenerator.js ***!
  \*****************************************************************/
/*! no static exports found */function(e,t){function n(e,t,n,a,E,r,l){try{var o=e[r](l),T=o.value}catch(e){return void n(e)}o.done?t(T):Promise.resolve(T).then(a,E)}e.exports=function(e){return function(){var t=this,a=arguments;return new Promise((function(E,r){var l=e.apply(t,a);function o(e){n(l,E,r,o,T,"next",e)}function T(e){n(l,E,r,o,T,"throw",e)}o(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/createClass.js":
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!
  \************************************************************/
/*! no static exports found */function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/defineProperty.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/helpers/typeof.js":
/*!*******************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},"./node_modules/@babel/runtime/regenerator/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@babel/runtime/regenerator/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){e.exports=n(/*! regenerator-runtime */"./node_modules/regenerator-runtime/runtime.js")},"./node_modules/regenerator-runtime/runtime.js":
/*!*****************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var a=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},E=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function T(e,t,n,a){var E=t&&t.prototype instanceof s?t:s,r=Object.create(E.prototype),l=new I(a||[]);return r._invoke=function(e,t,n){var a="suspendedStart";return function(E,r){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===E)throw r;return{value:void 0,done:!0}}for(n.method=E,n.arg=r;;){var l=n.delegate;if(l){var o=P(l,n);if(o){if(o===i)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var T=u(e,t,n);if("normal"===T.type){if(a=n.done?"completed":"suspendedYield",T.arg===i)continue;return{value:T.arg,done:n.done}}"throw"===T.type&&(a="completed",n.method="throw",n.arg=T.arg)}}}(e,n,l),r}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=T;var i={};function s(){}function c(){}function d(){}var _={};_[E]=function(){return this};var N=Object.getPrototypeOf,A=N&&N(N(L([])));A&&A!==t&&n.call(A,E)&&(_=A);var R=d.prototype=s.prototype=Object.create(_);function C(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var a;this._invoke=function(E,r){function l(){return new t((function(a,l){!function a(E,r,l,o){var T=u(e[E],e,r);if("throw"!==T.type){var i=T.arg,s=i.value;return s&&"object"==typeof s&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){a("next",e,l,o)}),(function(e){a("throw",e,l,o)})):t.resolve(s).then((function(e){i.value=e,l(i)}),(function(e){return a("throw",e,l,o)}))}o(T.arg)}(E,r,a,l)}))}return a=a?a.then(l,l):l()}}function P(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method))return i;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return i}var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,i;var E=a.arg;return E?E.done?(t[e.resultName]=E.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,i):E:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,i)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function L(e){if(e){var t=e[E];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return c.prototype=R.constructor=d,d.constructor=c,c.displayName=o(d,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===c||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,l,"GeneratorFunction")),e.prototype=Object.create(R),e},e.awrap=function(e){return{__await:e}},C(O.prototype),O.prototype[r]=function(){return this},e.AsyncIterator=O,e.async=function(t,n,a,E,r){void 0===r&&(r=Promise);var l=new O(T(t,n,a,E),r);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},C(R),o(R,l,"Generator"),R[E]=function(){return this},R.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return l.type="throw",l.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var E=this.tryEntries.length-1;E>=0;--E){var r=this.tryEntries[E],l=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var o=n.call(r,"catchLoc"),T=n.call(r,"finallyLoc");if(o&&T){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!T)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var E=this.tryEntries[a];if(E.tryLoc<=this.prev&&n.call(E,"finallyLoc")&&this.prev<E.finallyLoc){var r=E;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var l=r?r.completion:{};return l.type=e,l.arg=t,r?(this.method="next",this.next=r.finallyLoc,i):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),i},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),p(n),i}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var E=a.arg;p(n)}return E}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),i}},e}(e.exports);try{regeneratorRuntime=a}catch(e){Function("r","regeneratorRuntime = r")(a)}},"./src/main/baseConnector.js":
/*!***********************************!*\
  !*** ./src/main/baseConnector.js ***!
  \***********************************/
/*! exports provided: initializeConnector, publishError, publishEvent */function(e,t,n){"use strict";n.r(t),n.d(t,"initializeConnector",(function(){return S})),n.d(t,"publishError",(function(){return h})),n.d(t,"publishEvent",(function(){return v}));var a,E,r=n(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(r),o=n(/*! @babel/runtime/helpers/asyncToGenerator */"./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),T=n.n(o),u=n(/*! @babel/runtime/regenerator */"./node_modules/@babel/runtime/regenerator/index.js"),i=n.n(u),s=n(/*! ./constants.js */"./src/main/constants.js"),c=n(/*! ./types */"./src/main/types.js");function d(e){return e&&e.type?e.type:e}function _(e){return e&&e.message?e.message:e}function N(e,t,n){a.postMessage({type:s.default.MESSAGE_TYPE.LOG,payload:{eventType:e,payload:t,isError:n}})}function A(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a.postMessage({type:s.default.MESSAGE_TYPE.TELEPHONY_EVENT_DISPATCHED,payload:{telephonyEventType:e,telephonyEventPayload:t}}),n&&N(e,t,!1)}function R(e,t,n){console.error("SCV dispatched error ".concat(e," for eventType ").concat(n),t),A(s.default.EVENT_TYPE.ERROR,{message:s.default.ERROR_TYPE[e]}),N(n,{errorType:e,error:t},!0)}function C(){return O.apply(this,arguments)}function O(){return(O=T()(i.a.mark((function e(){var t,n,r,o,T,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.getAgentConfig();case 3:return n=e.sent,c.Validator.validateClassObject(n,c.AgentConfigResult),e.next=7,E.getActiveCalls();case 7:r=e.sent,c.Validator.validateClassObject(r,c.ActiveCallsResult),o=r.activeCalls,T=s.default.MESSAGE_TYPE.CONNECTOR_READY,u={agentConfig:(t={},l()(t,s.default.AGENT_CONFIG_TYPE.MUTE,n.hasMute),l()(t,s.default.AGENT_CONFIG_TYPE.RECORD,n.hasRecord),l()(t,s.default.AGENT_CONFIG_TYPE.MERGE,n.hasMerge),l()(t,s.default.AGENT_CONFIG_TYPE.SWAP,n.hasSwap),l()(t,s.default.AGENT_CONFIG_TYPE.PHONES,n.phones),l()(t,s.default.AGENT_CONFIG_TYPE.SIGNED_RECORDING_URL,n.hasSignedRecordingUrl),l()(t,s.default.AGENT_CONFIG_TYPE.SELECTED_PHONE,n.selectedPhone),t),callInProgress:o.length>0?o[0]:null},a.postMessage({type:T,payload:u}),N(T,u,!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),a.postMessage({type:s.default.MESSAGE_TYPE.CONNECTOR_READY,payload:{}}),N(s.default.MESSAGE_TYPE.CONNECTOR_READY,{},!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function P(e){return f.apply(this,arguments)}function f(){return(f=T()(i.a.mark((function e(t){var n,a,r,l,o,T,u,C,O,P,f,p,I,L,S,h,g,G,b,D,y,m,Y,U,k,M,H,V,w,x,B,j,F,W,K,Q,J,q;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(n=t.data.type,t.data,!1),e.t0=n,e.next=e.t0===s.default.MESSAGE_TYPE.ACCEPT_CALL?5:e.t0===s.default.MESSAGE_TYPE.DECLINE_CALL?20:e.t0===s.default.MESSAGE_TYPE.END_CALL?33:e.t0===s.default.MESSAGE_TYPE.MUTE?49:e.t0===s.default.MESSAGE_TYPE.UNMUTE?60:e.t0===s.default.MESSAGE_TYPE.HOLD?71:e.t0===s.default.MESSAGE_TYPE.RESUME?88:e.t0===s.default.MESSAGE_TYPE.SET_AGENT_STATUS?105:e.t0===s.default.MESSAGE_TYPE.DIAL?125:e.t0===s.default.MESSAGE_TYPE.SEND_DIGITS?147:e.t0===s.default.MESSAGE_TYPE.GET_PHONE_CONTACTS?156:e.t0===s.default.MESSAGE_TYPE.SWAP_PARTICIPANTS?169:e.t0===s.default.MESSAGE_TYPE.CONFERENCE?180:e.t0===s.default.MESSAGE_TYPE.ADD_PARTICIPANT?191:e.t0===s.default.MESSAGE_TYPE.PAUSE_RECORDING?209:e.t0===s.default.MESSAGE_TYPE.RESUME_RECORDING?220:e.t0===s.default.MESSAGE_TYPE.LOGOUT?231:e.t0===s.default.MESSAGE_TYPE.MESSAGE?244:e.t0===s.default.MESSAGE_TYPE.WRAP_UP_CALL?246:e.t0===s.default.MESSAGE_TYPE.AGENT_AVAILABLE?248:e.t0===s.default.MESSAGE_TYPE.SET_AGENT_CONFIG?277:e.t0===s.default.MESSAGE_TYPE.GET_SIGNED_RECORDING_URL?289:304;break;case 5:if(e.prev=5,!t.data.call||!t.data.call.callType||t.data.call.callType.toLowerCase()!==s.default.CALL_TYPE.OUTBOUND.toLowerCase()){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,E.acceptCall(t.data.call);case 10:a=e.sent,c.Validator.validateClassObject(a,c.CallResult),A((r=a.call).callType.toLowerCase()===s.default.CALL_TYPE.CALLBACK.toLowerCase()?s.default.EVENT_TYPE.CALL_STARTED:s.default.EVENT_TYPE.CALL_CONNECTED,r),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(5),R(s.default.ERROR_TYPE.CAN_NOT_ACCEPT_THE_CALL,e.t1,s.default.MESSAGE_TYPE.ACCEPT_CALL);case 19:return e.abrupt("break",305);case 20:return e.prev=20,e.next=23,E.declineCall(t.data.call);case 23:l=e.sent,c.Validator.validateClassObject(l,c.CallResult),o=l.call,A(s.default.EVENT_TYPE.HANGUP,o),e.next=32;break;case 29:e.prev=29,e.t2=e.catch(20),R(s.default.ERROR_TYPE.CAN_NOT_DECLINE_THE_CALL,e.t2,s.default.MESSAGE_TYPE.DECLINE_CALL);case 32:return e.abrupt("break",305);case 33:return e.prev=33,e.next=36,E.endCall(t.data.call,t.data.agentStatus);case 36:return T=e.sent,e.next=39,E.getActiveCalls();case 39:u=e.sent,c.Validator.validateClassObject(u,c.ActiveCallsResult),0===u.activeCalls.length&&(c.Validator.validateClassObject(T,c.HangupResult),C=T.calls,A(s.default.EVENT_TYPE.HANGUP,C)),e.next=48;break;case 45:e.prev=45,e.t3=e.catch(33),R(s.default.ERROR_TYPE.CAN_NOT_END_THE_CALL,e.t3,s.default.MESSAGE_TYPE.END_CALL);case 48:return e.abrupt("break",305);case 49:return e.prev=49,e.next=52,E.mute();case 52:O=e.sent,v({eventType:s.default.EVENT_TYPE.MUTE_TOGGLE,payload:O}),e.next=59;break;case 56:e.prev=56,e.t4=e.catch(49),R(s.default.ERROR_TYPE.CAN_NOT_MUTE_CALL,e.t4,s.default.MESSAGE_TYPE.MUTE);case 59:return e.abrupt("break",305);case 60:return e.prev=60,e.next=63,E.unmute();case 63:P=e.sent,v({eventType:s.default.EVENT_TYPE.MUTE_TOGGLE,payload:P}),e.next=70;break;case 67:e.prev=67,e.t5=e.catch(60),R(s.default.ERROR_TYPE.CAN_NOT_UNMUTE_CALL,e.t5,s.default.MESSAGE_TYPE.UNMUTE);case 70:return e.abrupt("break",305);case 71:return e.prev=71,e.next=74,E.hold(t.data.call);case 74:f=e.sent,v({eventType:s.default.EVENT_TYPE.HOLD_TOGGLE,payload:f}),e.next=87;break;case 78:e.prev=78,e.t6=e.catch(71),e.t7=d(e.t6),e.next=e.t7===s.default.ERROR_TYPE.INVALID_PARTICIPANT?83:85;break;case 83:return R(s.default.ERROR_TYPE.INVALID_PARTICIPANT,_(e.t6),s.default.MESSAGE_TYPE.HOLD),e.abrupt("break",87);case 85:return R(s.default.ERROR_TYPE.CAN_NOT_HOLD_CALL,_(e.t6),s.default.MESSAGE_TYPE.HOLD),e.abrupt("break",87);case 87:return e.abrupt("break",305);case 88:return e.prev=88,e.next=91,E.resume(t.data.call);case 91:p=e.sent,v({eventType:s.default.EVENT_TYPE.HOLD_TOGGLE,payload:p}),e.next=104;break;case 95:e.prev=95,e.t8=e.catch(88),e.t9=d(e.t8),e.next=e.t9===s.default.ERROR_TYPE.INVALID_PARTICIPANT?100:102;break;case 100:return R(s.default.ERROR_TYPE.INVALID_PARTICIPANT,_(e.t8),s.default.MESSAGE_TYPE.RESUME),e.abrupt("break",104);case 102:return R(s.default.ERROR_TYPE.CAN_NOT_RESUME_CALL,_(e.t8),s.default.MESSAGE_TYPE.RESUME),e.abrupt("break",104);case 104:return e.abrupt("break",305);case 105:return e.prev=105,I=t.data.statusInfo||{},e.next=109,E.setAgentStatus(t.data.agentStatus,I);case 109:L=e.sent,c.Validator.validateClassObject(L,c.GenericResult),S=L.success,A(s.default.EVENT_TYPE.SET_AGENT_STATUS_RESULT,{success:S}),e.next=124;break;case 115:e.prev=115,e.t10=e.catch(105),e.t11=d(e.t10),e.next=e.t11===s.default.ERROR_TYPE.INVALID_AGENT_STATUS?120:122;break;case 120:return R(s.default.ERROR_TYPE.INVALID_AGENT_STATUS,_(e.t10),s.default.MESSAGE_TYPE.SET_AGENT_STATUS),e.abrupt("break",124);case 122:return R(s.default.ERROR_TYPE.CAN_NOT_SET_AGENT_STATUS,_(e.t10),s.default.MESSAGE_TYPE.SET_AGENT_STATUS),e.abrupt("break",124);case 124:return e.abrupt("break",305);case 125:return e.prev=125,e.next=128,E.dial(new c.Contact(t.data.contact));case 128:h=e.sent,c.Validator.validateClassObject(h,c.CallResult),g=h.call,A(s.default.EVENT_TYPE.CALL_STARTED,g),e.next=146;break;case 134:e.prev=134,e.t12=e.catch(125),A(s.default.EVENT_TYPE.CALL_FAILED),e.t13=d(e.t12),e.next=e.t13===s.default.ERROR_TYPE.INVALID_DESTINATION?140:e.t13===s.default.ERROR_TYPE.GENERIC_ERROR?142:144;break;case 140:return R(s.default.ERROR_TYPE.INVALID_DESTINATION,_(e.t12),s.default.MESSAGE_TYPE.DIAL),e.abrupt("break",146);case 142:return R(s.default.ERROR_TYPE.GENERIC_ERROR,_(e.t12),s.default.MESSAGE_TYPE.DIAL),e.abrupt("break",146);case 144:return R(s.default.ERROR_TYPE.CAN_NOT_START_THE_CALL,_(e.t12),s.default.MESSAGE_TYPE.DIAL),e.abrupt("break",146);case 146:return e.abrupt("break",305);case 147:return e.prev=147,e.next=150,E.sendDigits(t.data.digits);case 150:e.next=155;break;case 152:e.prev=152,e.t14=e.catch(147),N(s.default.MESSAGE_TYPE.SEND_DIGITS,t.data.digits,!0);case 155:return e.abrupt("break",305);case 156:return e.prev=156,e.next=159,E.getPhoneContacts(t.data.filter);case 159:G=e.sent,c.Validator.validateClassObject(G,c.PhoneContactsResult),b=G.contacts.map((function(e){return{id:e.id,endpointARN:e.endpointARN,phoneNumber:e.phoneNumber,name:e.name,type:e.type}})),A(s.default.EVENT_TYPE.PHONE_CONTACTS,{contacts:b}),e.next=168;break;case 165:e.prev=165,e.t15=e.catch(156),R(s.default.ERROR_TYPE.CAN_NOT_GET_PHONE_CONTACTS,e.t15,s.default.MESSAGE_TYPE.GET_PHONE_CONTACTS);case 168:return e.abrupt("break",305);case 169:return e.prev=169,e.next=172,E.swap(t.data.callToHold,t.data.callToResume);case 172:D=e.sent,v({eventType:s.default.EVENT_TYPE.PARTICIPANTS_SWAPPED,payload:D}),e.next=179;break;case 176:e.prev=176,e.t16=e.catch(169),R(s.default.ERROR_TYPE.CAN_NOT_SWAP_PARTICIPANTS,e.t16,s.default.MESSAGE_TYPE.SWAP_PARTICIPANTS);case 179:return e.abrupt("break",305);case 180:return e.prev=180,e.next=183,E.conference(t.data.calls);case 183:y=e.sent,v({eventType:s.default.EVENT_TYPE.PARTICIPANTS_CONFERENCED,payload:y}),e.next=190;break;case 187:e.prev=187,e.t17=e.catch(180),R(s.default.ERROR_TYPE.CAN_NOT_CONFERENCE,e.t17,s.default.MESSAGE_TYPE.CONFERENCE);case 190:return e.abrupt("break",305);case 191:return e.prev=191,e.next=194,E.addParticipant(new c.Contact(t.data.contact),t.data.call);case 194:m=e.sent,v({eventType:s.default.EVENT_TYPE.PARTICIPANT_ADDED,payload:m}),e.next=208;break;case 198:e.prev=198,e.t18=e.catch(191),A(s.default.EVENT_TYPE.PARTICIPANT_REMOVED,{reason:s.default.EVENT_TYPE.ERROR.toLowerCase()}),e.t19=d(e.t18),e.next=e.t19===s.default.ERROR_TYPE.INVALID_DESTINATION?204:206;break;case 204:return R(s.default.ERROR_TYPE.INVALID_DESTINATION,_(e.t18),s.default.MESSAGE_TYPE.ADD_PARTICIPANT),e.abrupt("break",208);case 206:return R(s.default.ERROR_TYPE.CAN_NOT_ADD_PARTICIPANT,_(e.t18),s.default.MESSAGE_TYPE.ADD_PARTICIPANT),e.abrupt("break",208);case 208:return e.abrupt("break",305);case 209:return e.prev=209,e.next=212,E.pauseRecording(t.data.call);case 212:Y=e.sent,v({eventType:s.default.EVENT_TYPE.RECORDING_TOGGLE,payload:Y}),e.next=219;break;case 216:e.prev=216,e.t20=e.catch(209),R(s.default.ERROR_TYPE.CAN_NOT_PAUSE_RECORDING,e.t20,s.default.MESSAGE_TYPE.PAUSE_RECORDING);case 219:return e.abrupt("break",305);case 220:return e.prev=220,e.next=223,E.resumeRecording(t.data.call);case 223:U=e.sent,v({eventType:s.default.EVENT_TYPE.RECORDING_TOGGLE,payload:U}),e.next=230;break;case 227:e.prev=227,e.t21=e.catch(220),R(s.default.ERROR_TYPE.CAN_NOT_RESUME_RECORDING,e.t21,s.default.MESSAGE_TYPE.RESUME_RECORDING);case 230:return e.abrupt("break",305);case 231:return e.prev=231,e.next=234,E.logout();case 234:k=e.sent,c.Validator.validateClassObject(k,c.LogoutResult),M=k.success,H=k.loginFrameHeight,A(s.default.EVENT_TYPE.LOGOUT_RESULT,{success:M,loginFrameHeight:H}),e.next=243;break;case 240:e.prev=240,e.t22=e.catch(231),R(s.default.ERROR_TYPE.CAN_NOT_LOG_OUT,e.t22,s.default.MESSAGE_TYPE.LOGOUT);case 243:return e.abrupt("break",305);case 244:return E.handleMessage(t.data.message),e.abrupt("break",305);case 246:return E.wrapUpCall(t.data.call),e.abrupt("break",305);case 248:if(!t.data.isAvailable){e.next=276;break}return e.next=252,E.getActiveCalls();case 252:V=e.sent,c.Validator.validateClassObject(V,c.ActiveCallsResult),w=V.activeCalls,e.t23=i.a.keys(w);case 256:if((e.t24=e.t23()).done){e.next=276;break}if(x=e.t24.value,(B=w[x]).callInfo&&!B.callInfo.isReplayable){e.next=274;break}B.isReplayedCall=!0,e.t25=B.state,e.next=e.t25===s.default.CALL_STATE.CONNECTED?265:e.t25===s.default.CALL_STATE.RINGING?267:e.t25===s.default.CALL_STATE.TRANSFERRING?269:e.t25===s.default.CALL_STATE.TRANSFERRED?271:273;break;case 265:return A(s.default.EVENT_TYPE.CALL_CONNECTED,B),e.abrupt("break",274);case 267:return A(s.default.EVENT_TYPE.CALL_STARTED,B),e.abrupt("break",274);case 269:return A(s.default.EVENT_TYPE.PARTICIPANT_ADDED,{phoneNumber:B.contact.phoneNumber,callInfo:B.callInfo,initialCallHasEnded:B.callAttributes.initialCallHasEnded,callId:B.callId}),e.abrupt("break",274);case 271:return A(s.default.EVENT_TYPE.PARTICIPANT_CONNECTED,{phoneNumber:B.contact.phoneNumber,callInfo:B.callInfo,initialCallHasEnded:B.callAttributes.initialCallHasEnded,callId:B.callId}),e.abrupt("break",274);case 273:return e.abrupt("break",274);case 274:e.next=256;break;case 276:return e.abrupt("break",305);case 277:return e.prev=277,e.next=280,E.setAgentConfig(t.data.config);case 280:j=e.sent,c.Validator.validateClassObject(j,c.GenericResult),A(s.default.EVENT_TYPE.AGENT_CONFIG_UPDATED,j),e.next=288;break;case 285:e.prev=285,e.t26=e.catch(277),R(d(e.t26)===s.default.ERROR_TYPE.CAN_NOT_UPDATE_PHONE_NUMBER?s.default.ERROR_TYPE.CAN_NOT_UPDATE_PHONE_NUMBER:s.default.ERROR_TYPE.CAN_NOT_SET_AGENT_CONFIG,_(e.t26),s.default.MESSAGE_TYPE.SET_AGENT_CONFIG);case 288:return e.abrupt("break",305);case 289:return e.prev=289,F=t.data,W=F.recordingUrl,K=F.vendorCallKey,Q=F.callId,e.next=293,E.getSignedRecordingUrl(W,K,Q);case 293:J=e.sent,c.Validator.validateClassObject(J,c.SignedRecordingUrlResult),A(s.default.EVENT_TYPE.SIGNED_RECORDING_URL,J),e.next=303;break;case 298:e.prev=298,e.t27=e.catch(289),q=new c.SignedRecordingUrlResult({success:!1}),A(s.default.EVENT_TYPE.SIGNED_RECORDING_URL,q,!1),N(s.default.MESSAGE_TYPE.GET_SIGNED_RECORDING_URL,q,!0);case 303:case 304:return e.abrupt("break",305);case 305:case"end":return e.stop()}}),e,null,[[5,16],[20,29],[33,45],[49,56],[60,67],[71,78],[88,95],[105,115],[125,134],[147,152],[156,165],[169,176],[180,187],[191,198],[209,216],[220,227],[231,240],[277,285],[289,298]])})))).apply(this,arguments)}function p(e){return I.apply(this,arguments)}function I(){return(I=T()(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.data.type,e.next=e.t0===s.default.MESSAGE_TYPE.SETUP_CONNECTOR?3:25;break;case 3:return(a=t.ports[0]).onmessage=P,N(s.default.MESSAGE_TYPE.SETUP_CONNECTOR,null,!1),e.prev=6,e.next=9,E.init(t.data.connectorConfig);case 9:n=e.sent,c.Validator.validateClassObject(n,c.InitResult),n.showLogin?A(s.default.EVENT_TYPE.SHOW_LOGIN,{loginFrameHeight:n.loginFrameHeight}):C(),e.next=23;break;case 14:e.prev=14,e.t1=e.catch(6),e.t2=d(e.t1),e.next=e.t2===s.default.ERROR_TYPE.INVALID_PARAMS?19:21;break;case 19:return R(s.default.ERROR_TYPE.INVALID_PARAMS,_(e.t1),s.default.MESSAGE_TYPE.SETUP_CONNECTOR),e.abrupt("break",23);case 21:return R(s.default.ERROR_TYPE.CAN_NOT_LOG_IN,_(e.t1),s.default.MESSAGE_TYPE.SETUP_CONNECTOR),e.abrupt("break",23);case 23:return window.removeEventListener("message",p),e.abrupt("break",26);case 25:return e.abrupt("break",26);case 26:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}function L(e,t,n,a){try{return c.Validator.validateClassObject(e,t),!0}catch(e){return n&&R(n,e,a),!1}}function S(e){E=e,window.addEventListener("message",p)}function h(e){var t=e.eventType,n=e.error;switch(t){case s.default.EVENT_TYPE.LOGIN_RESULT:R(s.default.ERROR_TYPE.CAN_NOT_LOG_IN,n,s.default.EVENT_TYPE.LOGIN_RESULT);break;case s.default.EVENT_TYPE.LOGOUT_RESULT:R(s.default.ERROR_TYPE.CAN_NOT_LOG_OUT,n,s.default.EVENT_TYPE.LOGOUT_RESULT);break;case s.default.EVENT_TYPE.CALL_STARTED:R(s.default.ERROR_TYPE.CAN_NOT_START_THE_CALL,n,s.default.EVENT_TYPE.CALL_STARTED);break;case s.default.EVENT_TYPE.QUEUED_CALL_STARTED:R(s.default.ERROR_TYPE.CAN_NOT_START_THE_CALL,n,s.default.EVENT_TYPE.QUEUED_CALL_STARTED);break;case s.default.EVENT_TYPE.CALL_CONNECTED:R(s.default.ERROR_TYPE.CAN_NOT_START_THE_CALL,n,s.default.EVENT_TYPE.CALL_CONNECTED);break;case s.default.EVENT_TYPE.HANGUP:R(s.default.ERROR_TYPE.CAN_NOT_END_THE_CALL,n,s.default.EVENT_TYPE.HANGUP);break;case s.default.EVENT_TYPE.PARTICIPANT_ADDED:R(d(n)===s.default.ERROR_TYPE.INVALID_PARTICIPANT?s.default.ERROR_TYPE.INVALID_PARTICIPANT:s.default.ERROR_TYPE.CAN_NOT_ADD_PARTICIPANT,n,s.default.EVENT_TYPE.PARTICIPANT_ADDED);break;case s.default.EVENT_TYPE.PARTICIPANT_CONNECTED:R(s.default.ERROR_TYPE.CAN_NOT_CONNECT_PARTICIPANT,n,s.default.EVENT_TYPE.PARTICIPANT_CONNECTED);break;case s.default.EVENT_TYPE.PARTICIPANT_REMOVED:R(s.default.ERROR_TYPE.CAN_NOT_HANGUP_PARTICIPANT,n,s.default.EVENT_TYPE.PARTICIPANT_REMOVED);break;case s.default.EVENT_TYPE.MUTE_TOGGLE:R(s.default.ERROR_TYPE.CAN_NOT_TOGGLE_MUTE,n,s.default.EVENT_TYPE.MUTE_TOGGLE);break;case s.default.EVENT_TYPE.HOLD_TOGGLE:R(d(n)===s.default.ERROR_TYPE.INVALID_PARTICIPANT?s.default.ERROR_TYPE.INVALID_PARTICIPANT:s.default.ERROR_TYPE.CAN_NOT_TOGGLE_HOLD,n,s.default.EVENT_TYPE.HOLD_TOGGLE);break;case s.default.EVENT_TYPE.RECORDING_TOGGLE:R(s.default.ERROR_TYPE.CAN_NOT_TOGGLE_RECORD,n,s.default.EVENT_TYPE.RECORDING_TOGGLE);break;case s.default.EVENT_TYPE.PARTICIPANTS_SWAPPED:R(s.default.ERROR_TYPE.CAN_NOT_SWAP_PARTICIPANTS,n,s.default.EVENT_TYPE.PARTICIPANTS_SWAPPED);break;case s.default.EVENT_TYPE.PARTICIPANTS_CONFERENCED:R(s.default.ERROR_TYPE.CAN_NOT_CONFERENCE,n,s.default.EVENT_TYPE.PARTICIPANTS_CONFERENCED);break;case s.default.EVENT_TYPE.ERROR_RESULT:R(s.default.ERROR_TYPE.AGENT_ERROR,n,s.default.EVENT_TYPE.ERROR_RESULT);break;default:console.error("Unhandled error scenario with arguments ",arguments)}}function v(e){return g.apply(this,arguments)}function g(){return(g=T()(i.a.mark((function e(t){var n,a,r,l,o,T,u,d,_,N,R,O,f,p,I,S,h,v,g,G,b,D,y,m,Y,U;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.eventType,a=t.payload,e.t0=n,e.next=e.t0===s.default.EVENT_TYPE.LOGIN_RESULT?4:e.t0===s.default.EVENT_TYPE.LOGOUT_RESULT?6:e.t0===s.default.EVENT_TYPE.CALL_STARTED?8:e.t0===s.default.EVENT_TYPE.QUEUED_CALL_STARTED?10:e.t0===s.default.EVENT_TYPE.CALL_CONNECTED?12:e.t0===s.default.EVENT_TYPE.HANGUP?14:e.t0===s.default.EVENT_TYPE.PARTICIPANT_ADDED?16:e.t0===s.default.EVENT_TYPE.PARTICIPANT_CONNECTED?18:e.t0===s.default.EVENT_TYPE.PARTICIPANT_REMOVED?20:e.t0===s.default.EVENT_TYPE.MESSAGE?27:e.t0===s.default.EVENT_TYPE.AFTER_CALL_WORK_STARTED?29:e.t0===s.default.EVENT_TYPE.WRAP_UP_ENDED?31:e.t0===s.default.EVENT_TYPE.REMOTE_CONTROLLER?33:e.t0===s.default.EVENT_TYPE.MUTE_TOGGLE?35:e.t0===s.default.EVENT_TYPE.HOLD_TOGGLE?37:e.t0===s.default.EVENT_TYPE.RECORDING_TOGGLE?40:e.t0===s.default.EVENT_TYPE.PARTICIPANTS_SWAPPED?43:e.t0===s.default.EVENT_TYPE.PARTICIPANTS_CONFERENCED?45:47;break;case 4:return L(a,c.GenericResult,s.default.ERROR_TYPE.CAN_NOT_LOG_IN,s.default.EVENT_TYPE.LOGIN_RESULT)&&(A(s.default.EVENT_TYPE.LOGIN_RESULT,a),a.success&&C()),e.abrupt("break",47);case 6:return L(a,c.LogoutResult,s.default.ERROR_TYPE.CAN_NOT_LOG_OUT,s.default.EVENT_TYPE.LOGOUT_RESULT)&&A(s.default.EVENT_TYPE.LOGOUT_RESULT,{success:a.success,loginFrameHeight:a.loginFrameHeight}),e.abrupt("break",47);case 8:return L(a,c.CallResult,s.default.ERROR_TYPE.CAN_NOT_START_THE_CALL,s.default.EVENT_TYPE.CALL_STARTED)&&A(s.default.EVENT_TYPE.CALL_STARTED,a.call),e.abrupt("break",47);case 10:return L(a,c.CallResult,s.default.ERROR_TYPE.CAN_NOT_START_THE_CALL,s.default.EVENT_TYPE.QUEUED_CALL_STARTED)&&A(s.default.EVENT_TYPE.QUEUED_CALL_STARTED,a.call),e.abrupt("break",47);case 12:return L(a,c.CallResult,s.default.ERROR_TYPE.CAN_NOT_START_THE_CALL,s.default.EVENT_TYPE.CALL_CONNECTED)&&A(s.default.EVENT_TYPE.CALL_CONNECTED,a.call),e.abrupt("break",47);case 14:return L(a,c.HangupResult,s.default.ERROR_TYPE.CAN_NOT_END_THE_CALL,s.default.EVENT_TYPE.HANGUP)&&A(s.default.EVENT_TYPE.HANGUP,a.calls),e.abrupt("break",47);case 16:return L(a,c.ParticipantResult,s.default.ERROR_TYPE.CAN_NOT_ADD_PARTICIPANT,s.default.EVENT_TYPE.PARTICIPANT_ADDED)&&(r=a.initialCallHasEnded,l=a.callInfo,o=a.phoneNumber,T=a.callId,A(s.default.EVENT_TYPE.PARTICIPANT_ADDED,{initialCallHasEnded:r,callInfo:l,phoneNumber:o,callId:T})),e.abrupt("break",47);case 18:return L(a,c.ParticipantResult,s.default.ERROR_TYPE.CAN_NOT_CONNECT_PARTICIPANT,s.default.EVENT_TYPE.PARTICIPANT_CONNECTED)&&(u=a.initialCallHasEnded,d=a.callInfo,_=a.phoneNumber,N=a.callId,A(s.default.EVENT_TYPE.PARTICIPANT_CONNECTED,{initialCallHasEnded:u,callInfo:d,phoneNumber:_,callId:N})),e.abrupt("break",47);case 20:if(!L(a,c.CallResult,s.default.ERROR_TYPE.CAN_NOT_HANGUP_PARTICIPANT,s.default.EVENT_TYPE.PARTICIPANT_REMOVED)){e.next=26;break}return R=a.call,e.next=24,E.getActiveCalls();case 24:L(O=e.sent,c.ActiveCallsResult)&&(0===(f=O.activeCalls).length?A(s.default.EVENT_TYPE.HANGUP,R):R&&R.callAttributes&&R.callAttributes.participantType===s.default.PARTICIPANT_TYPE.INITIAL_CALLER?A(Object.values(f).filter((function(e){return e.callType===s.default.CALL_TYPE.ADD_PARTICIPANT})).pop().state===s.default.CALL_STATE.TRANSFERRING?s.default.EVENT_TYPE.PARTICIPANT_ADDED:s.default.EVENT_TYPE.PARTICIPANT_CONNECTED,{initialCallHasEnded:!0}):A(s.default.EVENT_TYPE.PARTICIPANT_REMOVED,{reason:R?R.reason:null}));case 26:return e.abrupt("break",47);case 27:return A(s.default.EVENT_TYPE.MESSAGE,a),e.abrupt("break",47);case 29:return A(s.default.EVENT_TYPE.AFTER_CALL_WORK_STARTED,a),e.abrupt("break",47);case 31:return A(s.default.EVENT_TYPE.WRAP_UP_ENDED,a),e.abrupt("break",47);case 33:return P(a),e.abrupt("break",47);case 35:return L(a,c.MuteToggleResult,s.default.ERROR_TYPE.CAN_NOT_TOGGLE_MUTE,s.default.EVENT_TYPE.MUTE_TOGGLE)&&A(s.default.EVENT_TYPE.MUTE_TOGGLE,a),e.abrupt("break",47);case 37:return p=a.isThirdPartyOnHold,I=a.isCustomerOnHold,S=a.calls,L(a,c.HoldToggleResult,s.default.ERROR_TYPE.CAN_NOT_TOGGLE_HOLD,s.default.EVENT_TYPE.HOLD_TOGGLE)&&A(s.default.EVENT_TYPE.HOLD_TOGGLE,{isThirdPartyOnHold:p,isCustomerOnHold:I,calls:S}),e.abrupt("break",47);case 40:return h=a.isRecordingPaused,v=a.contactId,g=a.initialContactId,G=a.instanceId,b=a.region,L(a,c.RecordingToggleResult,s.default.ERROR_TYPE.CAN_NOT_TOGGLE_RECORD,s.default.EVENT_TYPE.RECORDING_TOGGLE)&&A(s.default.EVENT_TYPE.RECORDING_TOGGLE,{isRecordingPaused:h,contactId:v,initialContactId:g,instanceId:G,region:b}),e.abrupt("break",47);case 43:return L(a,c.HoldToggleResult,s.default.ERROR_TYPE.CAN_NOT_SWAP_PARTICIPANTS,s.default.EVENT_TYPE.PARTICIPANTS_SWAPPED)&&(D=a.isThirdPartyOnHold,y=a.isCustomerOnHold,m=a.calls,A(s.default.EVENT_TYPE.HOLD_TOGGLE,{isThirdPartyOnHold:D,isCustomerOnHold:y,calls:m})),e.abrupt("break",47);case 45:return L(a,c.HoldToggleResult,s.default.ERROR_TYPE.CAN_NOT_CONFERENCE,s.default.EVENT_TYPE.PARTICIPANTS_CONFERENCED)&&(Y=a.isThirdPartyOnHold,U=a.isCustomerOnHold,A(s.default.EVENT_TYPE.HOLD_TOGGLE,{isThirdPartyOnHold:Y,isCustomerOnHold:U})),e.abrupt("break",47);case 47:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"./src/main/constants.js":
/*!*******************************!*\
  !*** ./src/main/constants.js ***!
  \*******************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),t.default={MESSAGE_TYPE:{SETUP_CONNECTOR:"SETUP_CONNECTOR",CONNECTOR_READY:"CONNECTOR_READY",LOG:"LOG",TELEPHONY_EVENT_DISPATCHED:"TELEPHONY_EVENT_DISPATCHED",ACCEPT_CALL:"ACCEPT_CALL",DECLINE_CALL:"DECLINE_CALL",END_CALL:"END_CALL",MUTE:"MUTE",UNMUTE:"UNMUTE",HOLD:"HOLD",RESUME:"RESUME",SET_AGENT_STATUS:"SET_AGENT_STATUS",DIAL:"DIAL",SEND_DIGITS:"SEND_DIGITS",GET_PHONE_CONTACTS:"GET_PHONE_CONTACTS",SWAP_PARTICIPANTS:"SWAP_PARTICIPANTS",ADD_PARTICIPANT:"ADD_PARTICIPANT",CONFERENCE:"CONFERENCE",PAUSE_RECORDING:"PAUSE_RECORDING",RESUME_RECORDING:"RESUME_RECORDING",LOGOUT:"LOGOUT",MESSAGE:"MESSAGE",WRAP_UP_CALL:"WRAP_UP_CALL",AGENT_AVAILABLE:"AGENT_AVAILABLE",SET_AGENT_CONFIG:"SET_AGENT_CONFIG",GET_SIGNED_RECORDING_URL:"GET_SIGNED_RECORDING_URL"},EVENT_TYPE:{QUEUED_CALL_STARTED:"QUEUED_CALL_STARTED",CALL_STARTED:"CALL_STARTED",CALL_CONNECTED:"CALL_CONNECTED",CALL_FAILED:"CALL_FAILED",MUTE_TOGGLE:"MUTE_TOGGLE",HOLD_TOGGLE:"HOLD_TOGGLE",HANGUP:"HANGUP",ERROR:"ERROR",PHONE_CONTACTS:"PHONE_CONTACTS",PARTICIPANT_ADDED:"PARTICIPANT_ADDED",PARTICIPANT_CONNECTED:"PARTICIPANT_CONNECTED",PARTICIPANT_REMOVED:"PARTICIPANT_REMOVED",LOGIN_STARTED:"LOGIN_STARTED",LOGIN_RESULT:"LOGIN_RESULT",LOGOUT_RESULT:"LOGOUT_RESULT",RECORDING_TOGGLE:"RECORDING_TOGGLE",PARTICIPANTS_SWAPPED:"PARTICIPANTS_SWAPPED",PARTICIPANTS_CONFERENCED:"PARTICIPANTS_CONFERENCED",SHOW_LOGIN:"SHOW_LOGIN",SET_AGENT_STATUS_RESULT:"SET_AGENT_STATUS_RESULT",WRAP_UP_ENDED:"WRAP_UP_ENDED",MESSAGE:"MESSAGE",AFTER_CALL_WORK_STARTED:"AFTER_CALL_WORK_STARTED",AGENT_CONFIG_UPDATED:"AGENT_CONFIG_UPDATED",ERROR_RESULT:"ERROR_RESULT",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL"},ERROR_TYPE:{GENERIC_ERROR:"GENERIC_ERROR",AGENT_ERROR:"AGENT_ERROR",MICROPHONE_NOT_SHARED:"MICROPHONE_NOT_SHARED",UNSUPPORTED_BROWSER:"UNSUPPORTED_BROWSER",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",INVALID_AGENT_STATUS:"INVALID_AGENT_STATUS",CAN_NOT_SET_AGENT_STATUS:"CAN_NOT_SET_AGENT_STATUS",LOGIN_REQUIRED:"LOGIN_REQUIRED",CAN_NOT_ACCEPT_THE_CALL:"CAN_NOT_ACCEPT_THE_CALL",CAN_NOT_DECLINE_THE_CALL:"CAN_NOT_DECLINE_THE_CALL",CAN_NOT_END_THE_CALL:"CAN_NOT_END_THE_CALL",CAN_NOT_HOLD_CALL:"CAN_NOT_HOLD_CALL",CAN_NOT_RESUME_CALL:"CAN_NOT_RESUME_CALL",CAN_NOT_MUTE_CALL:"CAN_NOT_MUTE_CALL",CAN_NOT_UNMUTE_CALL:"CAN_NOT_UNMUTE_CALL",CAN_NOT_TOGGLE_MUTE:"CAN_NOT_TOGGLE_MUTE",CAN_NOT_TOGGLE_HOLD:"CAN_NOT_TOGGLE_HOLD",CAN_NOT_TOGGLE_RECORD:"CAN_NOT_TOGGLE_RECORD",INVALID_PARTICIPANT:"INVALID_PARTICIPANT",CAN_NOT_LOG_IN:"CAN_NOT_LOG_IN",CAN_NOT_LOG_OUT:"CAN_NOT_LOG_OUT",INVALID_PARAMS:"INVALID_PARAMS",CAN_NOT_GET_PHONE_CONTACTS:"CAN_NOT_GET_PHONE_CONTACTS",CAN_NOT_SWAP_PARTICIPANTS:"CAN_NOT_SWAP_PARTICIPANTS",CAN_NOT_CONFERENCE:"CAN_NOT_CONFERENCE",INVALID_DESTINATION:"INVALID_DESTINATION",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",CAN_NOT_HANGUP_PARTICIPANT:"CAN_NOT_HANGUP_PARTICIPANT",CAN_NOT_ADD_PARTICIPANT:"CAN_NOT_ADD_PARTICIPANT",CAN_NOT_CONNECT_PARTICIPANT:"CAN_NOT_CONNECT_PARTICIPANT",CAN_NOT_START_THE_CALL:"CAN_NOT_START_THE_CALL",CAN_NOT_PAUSE_RECORDING:"CAN_NOT_PAUSE_RECORDING",CAN_NOT_RESUME_RECORDING:"CAN_NOT_RESUME_RECORDING",CAN_NOT_SET_AGENT_CONFIG:"CAN_NOT_SET_AGENT_CONFIG",CAN_NOT_UPDATE_PHONE_NUMBER:"CAN_NOT_UPDATE_PHONE_NUMBER",CAN_NOT_GET_SIGNED_RECORDING_URL:"CAN_NOT_GET_SIGNED_RECORDING_URL"},AGENT_STATUS:{ONLINE:"Online",OFFLINE:"Offline",ACW:"AfterCallWork",CALLBACK_MISSED_OR_REJECTED:"CallbackMissedOrRejected"},PARTICIPANT_TYPE:{AGENT:"Agent",INITIAL_CALLER:"Initial_Caller",THIRD_PARTY:"Third_Party"},CALL_TYPE:{INBOUND:"Inbound",OUTBOUND:"Outbound",CALLBACK:"Callback",ADD_PARTICIPANT:"AddParticipant"},CONTACT_TYPE:{PHONEBOOK:"PhoneBook",QUEUE:"Queue",PHONENUMBER:"PhoneNumber",AGENT:"Agent"},AGENT_CONFIG_TYPE:{SHOW_AGENT_SETTINGS:"SHOW_AGENT_SETTINGS",MUTE:"MUTE",RECORD:"RECORD",MERGE:"MERGE",SWAP:"SWAP",PHONES:"PHONES",SELECTED_PHONE:"SELECTED_PHONE",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL"},CALL_STATE:{RINGING:"ringing",CONNECTED:"connected",TRANSFERRING:"transferring",TRANSFERRED:"transferred",ENDED:"ended"},PHONE_TYPE:{DESK_PHONE:"DESK_PHONE",SOFT_PHONE:"SOFT_PHONE"},HANGUP_REASON:{PHONE_CALL_ERROR:"error",PHONE_CALL_ENDED:"ended"}}},"./src/main/index.js":
/*!***************************!*\
  !*** ./src/main/index.js ***!
  \***************************/
/*! exports provided: initializeConnector, publishEvent, publishError, Constants, ActiveCallsResult, AgentConfigResult, AgentConfig, RecordingToggleResult, ParticipantResult, SignedRecordingUrlResult, PhoneContactsResult, CallResult, HangupResult, HoldToggleResult, InitResult, GenericResult, MuteToggleResult, LogoutResult, CallInfo, PhoneCall, PhoneCallAttributes, Contact, Phone, AgentStatusInfo */function(e,t,n){"use strict";n.r(t);var a=n(/*! ./baseConnector.js */"./src/main/baseConnector.js");n.d(t,"initializeConnector",(function(){return a.initializeConnector})),n.d(t,"publishEvent",(function(){return a.publishEvent})),n.d(t,"publishError",(function(){return a.publishError}));var E=n(/*! ./types.js */"./src/main/types.js");n.d(t,"Constants",(function(){return E.Constants})),n.d(t,"ActiveCallsResult",(function(){return E.ActiveCallsResult})),n.d(t,"AgentConfigResult",(function(){return E.AgentConfigResult})),n.d(t,"AgentConfig",(function(){return E.AgentConfig})),n.d(t,"RecordingToggleResult",(function(){return E.RecordingToggleResult})),n.d(t,"ParticipantResult",(function(){return E.ParticipantResult})),n.d(t,"SignedRecordingUrlResult",(function(){return E.SignedRecordingUrlResult})),n.d(t,"PhoneContactsResult",(function(){return E.PhoneContactsResult})),n.d(t,"CallResult",(function(){return E.CallResult})),n.d(t,"HangupResult",(function(){return E.HangupResult})),n.d(t,"HoldToggleResult",(function(){return E.HoldToggleResult})),n.d(t,"InitResult",(function(){return E.InitResult})),n.d(t,"GenericResult",(function(){return E.GenericResult})),n.d(t,"MuteToggleResult",(function(){return E.MuteToggleResult})),n.d(t,"LogoutResult",(function(){return E.LogoutResult})),n.d(t,"CallInfo",(function(){return E.CallInfo})),n.d(t,"PhoneCall",(function(){return E.PhoneCall})),n.d(t,"PhoneCallAttributes",(function(){return E.PhoneCallAttributes})),n.d(t,"Contact",(function(){return E.Contact})),n.d(t,"Phone",(function(){return E.Phone})),n.d(t,"AgentStatusInfo",(function(){return E.AgentStatusInfo}))},"./src/main/types.js":
/*!***************************!*\
  !*** ./src/main/types.js ***!
  \***************************/
/*! exports provided: Constants, Phone, MuteToggleResult, ActiveCallsResult, AgentConfigResult, AgentConfig, RecordingToggleResult, ParticipantResult, PhoneContactsResult, CallResult, HangupResult, HoldToggleResult, SignedRecordingUrlResult, InitResult, GenericResult, LogoutResult, ErrorResult, CallInfo, Contact, PhoneCallAttributes, PhoneCall, VendorConnector, Validator, AgentStatusInfo */function(e,t,n){"use strict";n.r(t),n.d(t,"Constants",(function(){return _})),n.d(t,"Phone",(function(){return N})),n.d(t,"MuteToggleResult",(function(){return A})),n.d(t,"ActiveCallsResult",(function(){return R})),n.d(t,"AgentConfigResult",(function(){return C})),n.d(t,"AgentConfig",(function(){return O})),n.d(t,"RecordingToggleResult",(function(){return P})),n.d(t,"ParticipantResult",(function(){return f})),n.d(t,"PhoneContactsResult",(function(){return p})),n.d(t,"CallResult",(function(){return I})),n.d(t,"HangupResult",(function(){return L})),n.d(t,"HoldToggleResult",(function(){return S})),n.d(t,"SignedRecordingUrlResult",(function(){return h})),n.d(t,"InitResult",(function(){return v})),n.d(t,"GenericResult",(function(){return g})),n.d(t,"LogoutResult",(function(){return G})),n.d(t,"ErrorResult",(function(){return b})),n.d(t,"CallInfo",(function(){return D})),n.d(t,"Contact",(function(){return y})),n.d(t,"PhoneCallAttributes",(function(){return m})),n.d(t,"PhoneCall",(function(){return Y})),n.d(t,"VendorConnector",(function(){return U})),n.d(t,"Validator",(function(){return k})),n.d(t,"AgentStatusInfo",(function(){return M}));var a=n(/*! @babel/runtime/helpers/typeof */"./node_modules/@babel/runtime/helpers/typeof.js"),E=n.n(a),r=n(/*! @babel/runtime/helpers/createClass */"./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(r),o=n(/*! @babel/runtime/helpers/classCallCheck */"./node_modules/@babel/runtime/helpers/classCallCheck.js"),T=n.n(o),u=n(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(u),s=n(/*! ./constants.js */"./src/main/constants.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={EVENT_TYPE:{LOGIN_RESULT:s.default.EVENT_TYPE.LOGIN_RESULT,LOGOUT_RESULT:s.default.EVENT_TYPE.LOGOUT_RESULT,CALL_STARTED:s.default.EVENT_TYPE.CALL_STARTED,QUEUED_CALL_STARTED:s.default.EVENT_TYPE.QUEUED_CALL_STARTED,CALL_CONNECTED:s.default.EVENT_TYPE.CALL_CONNECTED,HANGUP:s.default.EVENT_TYPE.HANGUP,MUTE_TOGGLE:s.default.EVENT_TYPE.MUTE_TOGGLE,HOLD_TOGGLE:s.default.EVENT_TYPE.HOLD_TOGGLE,RECORDING_TOGGLE:s.default.EVENT_TYPE.RECORDING_TOGGLE,PARTICIPANTS_SWAPPED:s.default.EVENT_TYPE.PARTICIPANTS_SWAPPED,PARTICIPANTS_CONFERENCED:s.default.EVENT_TYPE.PARTICIPANTS_CONFERENCED,PARTICIPANT_ADDED:s.default.EVENT_TYPE.PARTICIPANT_ADDED,PARTICIPANT_CONNECTED:s.default.EVENT_TYPE.PARTICIPANT_CONNECTED,PARTICIPANT_REMOVED:s.default.EVENT_TYPE.PARTICIPANT_REMOVED,MESSAGE:s.default.EVENT_TYPE.MESSAGE,AFTER_CALL_WORK_STARTED:s.default.EVENT_TYPE.AFTER_CALL_WORK_STARTED,WRAP_UP_ENDED:s.default.EVENT_TYPE.WRAP_UP_ENDED,ERROR_RESULT:s.default.EVENT_TYPE.ERROR_RESULT},ERROR_TYPE:{GENERIC_ERROR:s.default.ERROR_TYPE.GENERIC_ERROR,INVALID_PARTICIPANT:s.default.ERROR_TYPE.INVALID_PARTICIPANT,INVALID_DESTINATION:s.default.ERROR_TYPE.INVALID_DESTINATION,INVALID_PARAMS:s.default.ERROR_TYPE.INVALID_PARAMS,INVALID_AGENT_STATUS:s.default.ERROR_TYPE.INVALID_AGENT_STATUS,CAN_NOT_UPDATE_PHONE_NUMBER:s.default.ERROR_TYPE.CAN_NOT_UPDATE_PHONE_NUMBER},AGENT_STATUS:d({},s.default.AGENT_STATUS),PARTICIPANT_TYPE:d({},s.default.PARTICIPANT_TYPE),CALL_TYPE:d({},s.default.CALL_TYPE),CONTACT_TYPE:d({},s.default.CONTACT_TYPE),CALL_STATE:d({},s.default.CALL_STATE),HANGUP_REASON:d({},s.default.HANGUP_REASON),PHONE_TYPE:d({},s.default.PHONE_TYPE)},N=function e(t){var n=t.type,a=t.number;T()(this,e),k.validateEnum(n,Object.values(s.default.PHONE_TYPE)),a&&k.validateString(a),this.type=n,this.number=a},A=function e(t){var n=t.isMuted;T()(this,e),this.isMuted=n},R=function e(t){var n=t.activeCalls,a=void 0===n?[]:n;T()(this,e),a.length>0&&a.forEach((function(e){k.validateClassObject(e,Y)})),this.activeCalls=a},C=function e(t){var n=t.hasMute,a=void 0===n||n,E=t.hasRecord,r=void 0===E||E,l=t.hasMerge,o=void 0===l||l,u=t.hasSwap,i=void 0===u||u,s=t.hasSignedRecordingUrl,c=void 0!==s&&s,d=t.phones,_=void 0===d?[]:d,A=t.selectedPhone;T()(this,e),k.validateBoolean(a),k.validateBoolean(r),k.validateBoolean(o),k.validateBoolean(i),k.validateBoolean(i),k.validateBoolean(c),k.validateClassObject(_,Array),A&&k.validateClassObject(A,N),this.hasMute=a,this.hasRecord=r,this.hasMerge=o,this.hasSwap=i,this.hasSignedRecordingUrl=c,this.phones=_,this.selectedPhone=A},O=function e(t){var n=t.selectedPhone;T()(this,e),k.validateClassObject(n,N),this.selectedPhone=n},P=function e(t){var n=t.isRecordingPaused,a=t.contactId,E=void 0===a?null:a,r=t.initialContactId,l=void 0===r?null:r,o=t.instanceId,u=void 0===o?null:o,i=t.region,s=void 0===i?null:i;T()(this,e),this.isRecordingPaused=n,this.contactId=E,this.initialContactId=l,this.instanceId=u,this.region=s},f=function e(t){var n=t.initialCallHasEnded,a=t.callInfo,E=t.phoneNumber,r=t.callId;T()(this,e),k.validateClassObject(a,D),this.initialCallHasEnded=n,this.callInfo=a,this.phoneNumber=E,this.callId=r},p=function e(t){var n=t.contacts,a=void 0===n?[]:n;T()(this,e),a.length>0&&a.forEach((function(e){k.validateClassObject(e,y)})),this.contacts=a},I=function e(t){var n=t.call;T()(this,e),void 0!==n&&k.validateClassObject(n,Y),this.call=n},L=function e(t){var n=t.calls;T()(this,e),n instanceof Array?(n.forEach((function(e){return k.validateClassObject(e,Y)})),this.calls=n):(k.validateClassObject(n,Y),this.calls=[n])},S=function e(t){var n=t.isThirdPartyOnHold,a=t.isCustomerOnHold,E=t.calls;T()(this,e),E&&(Object.values(E).forEach((function(e){k.validateClassObject(e,Y)})),this.calls=E),this.isThirdPartyOnHold=n,this.isCustomerOnHold=a},h=function e(t){var n=t.success,a=t.url,E=t.duration,r=t.callId;T()(this,e),n&&(k.validateString(a),k.validateString(r),E&&k.validateNumber(E)),this.success=n,this.url=a,this.duration=E,this.callId=r},v=function e(t){var n=t.showLogin,a=void 0!==n&&n,E=t.loginFrameHeight,r=void 0===E?350:E;T()(this,e),this.showLogin=a,this.loginFrameHeight=r},g=function e(t){var n=t.success;T()(this,e),this.success=n},G=function e(t){var n=t.success,a=t.loginFrameHeight,E=void 0===a?350:a;T()(this,e),this.success=n,this.loginFrameHeight=E},b=function e(t){var n=t.type,a=t.message;T()(this,e),this.type=n,this.message=a},D=function e(t){var n=t.callStateTimestamp,a=void 0===n?null:n,E=t.isOnHold,r=t.isMuted,l=void 0!==r&&r,o=t.isRecordingPaused,u=void 0!==o&&o,i=t.initialCallId,s=t.isSoftphoneCall,c=void 0===s||s,d=t.acceptEnabled,_=void 0===d||d,N=t.declineEnabled,A=void 0===N||N,R=t.muteEnabled,C=void 0===R||R,O=t.swapEnabled,P=void 0===O||O,f=t.conferenceEnabled,p=void 0===f||f,I=t.holdEnabled,L=void 0===I||I,S=t.recordEnabled,h=void 0===S||S,v=t.addCallerEnabled,g=void 0===v||v,G=t.extensionEnabled,b=void 0===G||G,D=t.isReplayable,y=void 0===D||D;T()(this,e),a&&k.validateDate(a),k.validateBoolean(u),k.validateBoolean(l),k.validateBoolean(c),k.validateBoolean(_),k.validateBoolean(A),k.validateBoolean(C),k.validateBoolean(P),k.validateBoolean(p),k.validateBoolean(L),k.validateBoolean(h),k.validateBoolean(g),k.validateBoolean(b),this.callStateTimestamp=a,this.isRecordingPaused=u,this.isMuted=l,this.isOnHold=E,this.initialCallId=i,this.isSoftphoneCall=c,this.acceptEnabled=_,this.declineEnabled=A,this.muteEnabled=C,this.swapEnabled=P,this.conferenceEnabled=p,this.holdEnabled=L,this.recordEnabled=h,this.addCallerEnabled=g,this.extensionEnabled=b,this.isReplayable=y},y=function e(t){var n=t.phoneNumber,a=t.id,E=t.type,r=t.name,l=t.prefix,o=t.extension,u=t.endpointARN,i=t.queue;T()(this,e),n&&k.validateString(n),E&&k.validateEnum(E,Object.values(s.default.CONTACT_TYPE)),a&&k.validateString(a),r&&k.validateString(r),l&&k.validateString(l),o&&k.validateString(o),this.phoneNumber=n,this.id=a,this.type=E,this.name=r,this.prefix=l,this.extension=o,this.endpointARN=u,this.queue=i},m=function e(t){var n=t.voiceCallId,a=t.participantType,E=t.parentId,r=t.isOnHold;T()(this,e),n&&k.validateString(n),a&&k.validateEnum(a,Object.values(s.default.PARTICIPANT_TYPE)),E&&k.validateString(E),void 0!==r&&k.validateBoolean(r),this.voiceCallId=n,this.participantType=a,this.parentId=E,this.isOnHold=r},Y=function e(t){var n=t.callId,a=t.callType,E=t.contact,r=t.state,l=t.callAttributes,o=t.phoneNumber,u=t.callInfo,i=t.reason,c=t.closeCallOnError,d=t.agentStatus;T()(this,e),n&&(k.validateString(n),this.callId=n),a&&(k.validateEnum(a,Object.values(s.default.CALL_TYPE)),this.callType=a),o&&(k.validateString(o),this.phoneNumber=o),u&&(k.validateClassObject(u,D),this.callInfo=u),E&&(k.validateClassObject(E,y),this.contact=E),i&&(this.reason=i),c&&(this.closeCallOnError=c),d&&(this.agentStatus=d),this.state=r,this.callAttributes=l},U=function(){function e(){T()(this,e)}return l()(e,[{key:"init",value:function(e){throw new Error("Not implemented")}},{key:"getActiveCalls",value:function(){throw new Error("Not implemented")}},{key:"acceptCall",value:function(e){throw new Error("Not implemented")}},{key:"declineCall",value:function(e){throw new Error("Not implemented")}},{key:"endCall",value:function(e){throw new Error("Not implemented")}},{key:"mute",value:function(){throw new Error("Not implemented")}},{key:"unmute",value:function(){throw new Error("Not implemented")}},{key:"hold",value:function(e){throw new Error("Not implemented")}},{key:"resume",value:function(e){throw new Error("Not implemented")}},{key:"setAgentStatus",value:function(e,t){throw new Error("Not implemented")}},{key:"dial",value:function(e){throw new Error("Not implemented")}},{key:"sendDigits",value:function(e){throw new Error("Not implemented")}},{key:"getPhoneContacts",value:function(){throw new Error("Not implemented")}},{key:"swap",value:function(e,t){throw new Error("Not implemented")}},{key:"conference",value:function(e){throw new Error("Not implemented")}},{key:"addParticipant",value:function(e,t){throw new Error("Not implemented")}},{key:"pauseRecording",value:function(e){throw new Error("Not implemented")}},{key:"resumeRecording",value:function(e){throw new Error("Not implemented")}},{key:"getAgentConfig",value:function(){throw new Error("Not implemented")}},{key:"setAgentConfig",value:function(e){throw new Error("Not implemented")}},{key:"logout",value:function(){throw new Error("Not implemented")}},{key:"handleMessage",value:function(e){throw new Error("Not implemented")}},{key:"wrapUpCall",value:function(e){throw new Error("Not implemented")}},{key:"getSignedRecordingUrl",value:function(e,t,n){throw new Error("Not implemented")}}]),e}(),k=function(){function e(){T()(this,e)}return l()(e,null,[{key:"validateString",value:function(e){if("string"!=typeof e)throw new Error("Invalid argument. Expecting a string but got ".concat(E()(e)));return this}},{key:"validateNumber",value:function(e){if("number"!=typeof e)throw new Error("Invalid argument. Expecting a number but got ".concat(E()(e)));return this}},{key:"validateBoolean",value:function(e){if("boolean"!=typeof e)throw new Error("Invalid argument. Expecting a boolean but got ".concat(E()(e)));return this}},{key:"validateEnum",value:function(e,t){if(!new RegExp(t.join("|"),"i").test(e))throw new Error("Invalid argument. Expecting a value from ".concat(JSON.stringify(t)," but got ").concat(e));return this}},{key:"validateDate",value:function(e){if(!(e instanceof Date))throw new Error("Invalid argument. Expecting a Date object but got ".concat(E()(e)));return this}},{key:"validateClassObject",value:function(e,t){if(!(e instanceof t))throw new Error("Invalid className. Expecting object of class ".concat(t," but got ").concat(E()(e)));return this}}]),e}(),M=function e(t){var n=t.statusId,a=t.statusApiName,E=t.statusName;T()(this,e),k.validateString(n),k.validateString(a),k.validateString(E),this.statusId=n,this.statusApiName=a,this.statusName=E}}})},e.exports=a()},1:function(e,t,n){"use strict";var a=n(2),E=n.n(a),r=n(0);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a={LOGIN_SUBMIT:"LOGIN_SUBMIT",SHOW_LOGIN_PAGE:"SHOW_LOGIN_PAGE",GET_SHOW_LOGIN_PAGE:"GET_SHOW_LOGIN_PAGE",SET_SHOW_LOGIN_PAGE:"SET_SHOW_LOGIN_PAGE",AGENT_CONFIG:"AGENT_CONFIG",GET_AGENT_CONFIG:"GET_AGENT_CONFIG",SET_AGENT_CONFIG:"SET_AGENT_CONFIG",START_OUTBOUND_CALL:"START_OUTBOUND_CALL",START_INBOUND_CALL:"START_INBOUND_CALL",CONNECT_PARTICIPANT:"CONNECT_PARTICIPANT",REMOVE_PARTICIPANT:"REMOVE_PARTICIPANT",CONNECT_CALL:"CONNECT_CALL",AGENT_HANGUP:"AGENT_HANGUP",END_CALL:"END_CALL",HARDPHONE_EVENT:"HARDPHONE_EVENT",GET_PHONE_CONTACTS:"GET_PHONE_CONTACTS",GET_ACTIVE_CALLS:"GET_ACTIVE_CALLS",ACTIVE_CALLS:"ACTIVE_CALLS",SOFTPHONE_LOGOUT:"SOFTPHONE_LOGOUT",CREATE_TRANSCRIPTION:"SEND_TRANSCRIPTION",INBOUND_CALL_TYPE:"inbound",MESSAGE_FROM_CONNECTOR:"MESSAGE_FROM_CONNECTOR",MESSAGE_TO_CONNECTOR:"MESSAGE_TO_CONNECTOR",SENDER_TYPE:{END_USER:"END_USER",HUMAN_AGENT:"HUMAN_AGENT",VIRTUAL_AGENT:"VIRTUAL_AGENT"},PARTICIPANT_TYPE:o({},r.Constants.PARTICIPANT_TYPE),CALL_CONTROL:{ACCEPT_CALL:"ACCEPT_CALL",DECLINE_CALL:"DECLINE_CALL",MUTE:"MUTE",HOLD:"HOLD",SWAP_PARTICIPANTS:"SWAP_PARTICIPANTS",ADD_PARTICIPANT:"ADD_PARTICIPANT",CONFERENCE:"CONFERENCE",RECORD:"RECORD"},HANGUP_REASON:{PHONE_CALL_ERROR:"error",PHONE_CALL_ENDED:"ended"},SEND_RECORDING:"SEND_RECORDING",LOGIN_RESULT:"LOGIN_RESULT",LOGOUT_RESULT:"LOGOUT_RESULT",CALL_CONNECTED:"CALL_CONNECTED",THROW_ERROR:"THROW_ERROR",ERROR:"ERROR",PARTICIPANT_CONNECTED:"PARTICIPANT_CONNECTED",PARTICIPANT_REMOVED:"PARTICIPANT_REMOVED",MESSAGE:"MESSAGE",REMOTE_CONTROLLER:"REMOTE_CONTROLLER",EVENT_TYPE:o({},r.Constants.EVENT_TYPE),AGENT_ERROR_STATUS:{DECLINED_BY_AGENT:"DeclinedByAgent",FAILED_TO_CONNECT_AGENT:"FailedToConnectAgent",MISSED_BY_AGENT:"MissedByAgent"},REQUEST_CALLBACK:"REQUEST_CALLBACK",SEND_AUDIO_STATS:"SEND_AUDIO_STATS"}},14:function(e,t,n){"use strict";n.r(t);var a=n(1),E=new BroadcastChannel("rc-request"),r=document.getElementById("showLoginPageCheckbox"),l=document.getElementById("throwErrorCheckbox"),o=document.getElementById("hasMuteCheckbox"),T=document.getElementById("hasRecordCheckbox"),u=document.getElementById("hasSwapCheckbox"),i=document.getElementById("hasSignedRecordingUrlCheckbox"),s=document.getElementById("signed-recording-url"),c=document.getElementById("signed-recording-duration"),d=document.getElementById("signed-recording-url-details"),_=document.getElementById("hasMergeCheckbox"),N=document.getElementById("hasContactSearchCheckbox"),A=document.getElementById("supportsMosCheckbox"),R=document.getElementById("callIsRecordingPaused"),C=document.getElementById("callIsOnHold"),O=document.getElementById("callIsMuted"),P=document.getElementById("callHasAccept"),f=document.getElementById("callHasDecline"),p=document.getElementById("callHasAddParticipant"),I=document.getElementById("callHasMute"),L=document.getElementById("callHasHold"),S=document.getElementById("callHasRecord"),h=document.getElementById("callHasSwap"),v=document.getElementById("callHasConference"),g=document.getElementById("callHasExtensionToggle"),G=document.getElementById("phoneNumber-input"),b=document.getElementById("start-outbound-call"),D=document.getElementById("new-inbound-call"),y=document.getElementById("connect-call"),m=document.getElementById("customer-hangup"),Y=document.getElementById("connect-participant"),U=document.getElementById("accept-call"),k=document.getElementById("decline-call"),M=document.getElementById("agent-endcall"),H=document.getElementById("customer-endcall"),V=document.getElementById("third-party-endcall"),w=document.getElementById("participant-types"),x=document.getElementById("participant-types-title"),B=document.getElementById("participant-types-options"),j=document.getElementById("add-participant"),F=document.getElementById("request-callback"),W=document.getElementById("mute"),K=document.getElementById("unmute"),Q=document.getElementById("hold"),J=document.getElementById("resume"),q=document.getElementById("pause-rec"),z=document.getElementById("resume-rec"),X=document.getElementById("swap"),Z=document.getElementById("conference"),$=document.getElementById("remove-participant"),ee=document.getElementById("softphone-logout"),te=document.getElementById("transcription-vendor-call-key"),ne=document.getElementById("transcription-customer-phone-number"),ae=document.getElementById("transcription-text-view"),Ee=document.getElementById("send-transcription"),re=document.getElementById("record-button"),le=document.getElementById("sender-types"),oe=document.getElementById("sender-types-title"),Te=document.getElementById("sender-types-options"),ue=document.getElementById("endUserButton"),ie=document.getElementById("virtualAgentButton"),se=document.getElementById("send-post-call-recording"),ce=document.getElementById("recording-link"),de=document.getElementById("send-message-button"),_e=document.getElementById("send-message-text"),Ne=document.getElementById("receive-message-text"),Ae=document.getElementById("active-calls1-text"),Re=document.getElementById("active-calls2-text"),Ce=document.getElementById("interaction-duration"),Oe=document.getElementById("hold-duration"),Pe=document.getElementById("voice-id"),fe=document.getElementById("active-call-header"),pe=document.getElementById("active-calls-card"),Ie=document.getElementById("agent-missed-call"),Le=document.getElementById("call-error"),Se=document.getElementById("demo-title"),he=document.getElementById("error-span"),ve=document.getElementById("send-audioStats-button"),ge=document.getElementById("send-audioStats-text"),Ge=document.getElementById("hardphone"),be=document.getElementById("softphone"),De={callAttributes:{participantType:a.a.PARTICIPANT_TYPE.INITIAL_CALLER}},ye={callAttributes:{participantType:a.a.PARTICIPANT_TYPE.THIRD_PARTY}};function me(){return{isSoftphoneCall:be.checked,isOnHold:C.checked,isMuted:O.checked,isRecordingPaused:R.checked,acceptEnabled:P.checked,declineEnabled:f.checked,muteEnabled:I.checked,swapEnabled:h.checked,conferenceEnabled:v.checked,extensionEnabled:g.checked,holdEnabled:L.checked,recordEnabled:S.checked,addCallerEnabled:p.checked}}function Ye(){[b,U,k,P,f].forEach((function(e){e.disabled=be.checked,e.title=be.checked?"This is only enabled when hardphone is selected":""}))}function Ue(){d.style.display=i.checked?"block":"none"}function ke(){E.postMessage({type:a.a.GET_ACTIVE_CALLS})}d.style.display="none";var Me,He=a.a.SENDER_TYPE.END_USER,Ve=a.a.PARTICIPANT_TYPE.AGENT;function we(e){he.innerHTML=e?'<span style="color:red;">&nbsp;&nbsp;&nbsp;'.concat(e,"&nbsp;</span>"):""}function xe(){Ye(),Ue(),b.disabled=!Ge.checked,E.postMessage({type:a.a.SET_AGENT_CONFIG,value:{hasMute:o.checked,hasRecord:T.checked,hasSwap:u.checked,hasMerge:_.checked,hasContactSearch:N.checked,supportsMos:A.checked,hasSignedRecordingUrl:i.checked,signedRecordingUrl:s.value,signedRecordingDuration:c.value,selectedPhone:Ge.checked?{type:"DESK_PHONE",number:"101 101 10001"}:{type:"SOFT_PHONE"}}})}E.addEventListener("message",(function(e){if(e&&e.data)switch(e.data.type){case a.a.SHOW_LOGIN_PAGE:r.checked=e.data.value;break;case a.a.AGENT_CONFIG:Se.innerText="Connected to ".concat(e.data.from),o.checked=e.data.value.hasMute,T.checked=e.data.value.hasRecord,u.checked=e.data.value.hasSwap,_.checked=e.data.value.hasMerge,N.checked=e.data.value.hasContactSearch,A.checked=e.data.value.supportsMos,i.checked=e.data.value.hasSignedRecordingUrl,s.value=e.data.value.signedRecordingUrl?e.data.value.signedRecordingUrl:"",c.value=e.data.value.signedRecordingDuration?e.data.value.signedRecordingDuration:"","DESK_PHONE"===e.data.value.selectedPhone.type?(Ge.checked=!0,be.checked=!1):(be.checked=!0,Ge.checked=!1),Ye(),Ue();break;case a.a.MESSAGE:Ne.value=JSON.stringify(e.data.payload);break;case a.a.ACTIVE_CALLS:!function(e){if(pe.style.display="none",Ae.style.display="none",Re.style.display="none",fe.style.display="none",j.disabled=!0,Array.isArray(e)&&e.length>0){pe.style.display="block",fe.style.display="block",j.disabled=!1,U.disabled=be.checked,k.disabled=be.checked,fe.innerHTML='Active Calls&nbsp;&nbsp;&nbsp;<span style="color:green;border-style:groove;}">&nbsp;'.concat(e[0].state,"&nbsp;</span>"),e.forEach((function(e,t){var n=0===t?Ae:Re;n.style.display="block",n.value="",Object.keys(e).forEach((function(t){n.value+="".concat(t,": ").concat(JSON.stringify(e[t],null,2),"\n")}))}));var t=ge,n=JSON.parse(t.value);n.callId=e[0].callId,t.value=JSON.stringify(n,void 0,4)}}(e.data.value);break;case a.a.ERROR:we(e.data.error)}})),pe.style.display="none",ke(),setInterval(ke,3e3),E.postMessage({type:a.a.GET_SHOW_LOGIN_PAGE}),E.postMessage({type:a.a.GET_AGENT_CONFIG}),window.addEventListener("mouseup",(function(){we(""),setTimeout(ke,200)})),r.addEventListener("change",(function(){E.postMessage({type:a.a.SET_SHOW_LOGIN_PAGE,value:r.checked})})),l.addEventListener("change",(function(){E.postMessage({type:a.a.THROW_ERROR,value:l.checked})})),o.addEventListener("change",xe),T.addEventListener("change",xe),_.addEventListener("change",xe),N.addEventListener("change",xe),A.addEventListener("change",xe),u.addEventListener("change",xe),i.addEventListener("change",xe),s.addEventListener("change",xe),c.addEventListener("change",xe),Ge.addEventListener("change",xe),be.addEventListener("change",xe),b.addEventListener("click",(function(){Me=G.value,E.postMessage({type:a.a.START_OUTBOUND_CALL,phoneNumber:Me,callInfo:me()})})),D.addEventListener("click",(function(){Me=G.value,E.postMessage({type:a.a.START_INBOUND_CALL,phoneNumber:Me,callInfo:me()})})),y.addEventListener("click",(function(){E.postMessage({type:a.a.CONNECT_CALL})})),m.addEventListener("click",(function(){E.postMessage({type:a.a.REMOVE_PARTICIPANT,participantType:a.a.PARTICIPANT_TYPE.INITIAL_CALLER})})),U.addEventListener("click",(function(){E.postMessage({type:a.a.CONNECT_CALL,callInfo:me()})})),k.addEventListener("click",(function(){E.postMessage({type:a.a.AGENT_HANGUP,reason:a.a.HANGUP_REASON.PHONE_CALL_ERROR,agentErrorStatus:a.a.AGENT_ERROR_STATUS.DECLINED_BY_AGENT})})),M.addEventListener("click",(function(){Ve=a.a.PARTICIPANT_TYPE.AGENT,x.innerText="End Call",B.classList.toggle("slds-is-open")})),H.addEventListener("click",(function(){Ve=a.a.PARTICIPANT_TYPE.INITIAL_CALLER,x.innerText="End Customer Leg",B.classList.toggle("slds-is-open")})),V.addEventListener("click",(function(){Ve=a.a.PARTICIPANT_TYPE.THIRD_PARTY,x.innerText="End Third-Party Leg",B.classList.toggle("slds-is-open")})),x.addEventListener("click",(function(){Ve===a.a.PARTICIPANT_TYPE.AGENT?E.postMessage({type:a.a.AGENT_HANGUP,reason:a.a.HANGUP_REASON.PHONE_CALL_ENDED}):E.postMessage({type:a.a.END_CALL,participantType:Ve})})),w.addEventListener("click",(function(){B.classList.toggle("slds-is-open")})),ee.addEventListener("click",(function(){E.postMessage({type:a.a.SOFTPHONE_LOGOUT})})),re.addEventListener("click",(function(){ae.value="";var e=e||window.webkitSpeechRecognition;if(!e)return void(re.disabled=!0);var t=new e;t.continuous=!1,t.lang="en-US",t.interimResults=!1,t.maxAlternatives=1,t.onresult=function(e){var t=e.results[0][0].transcript;ae.value=t},t.onspeechend=function(){re.disabled=!1},t.onnomatch=function(){re.disabled=!1},t.onerror=function(){re.disabled=!1},t.start(),re.disabled=!0})),ue.addEventListener("click",(function(){He=a.a.SENDER_TYPE.END_USER,oe.innerText="Customer",Te.classList.toggle("slds-is-open")})),ie.addEventListener("click",(function(){He=a.a.SENDER_TYPE.VIRTUAL_AGENT,oe.innerText="Unknown agent",Te.classList.toggle("slds-is-open")})),ae.addEventListener("input",(function(){re.disabled=ae.value})),Ee.addEventListener("click",(function(){var e=ae.value,t=te.value;Me=ne.value?ne.value:Me,E.postMessage({type:a.a.CREATE_TRANSCRIPTION,content:e,messageId:Math.random().toString(36).substring(10),senderType:He,phoneNumber:Me,vendorCallKey:t}),ae.value="",re.disabled=!1})),se.addEventListener("click",(function(){var e=Ce.value,t=Oe.value,n=ce.value,r=Pe.value;if(n&&t&&e){var l={agentInteractionDuration:parseInt(e),totalHoldDuration:parseInt(t),recordingUrl:n,voiceCallId:r};E.postMessage({type:a.a.SEND_RECORDING,recordingInfo:l}),ce.value="",Ce.value="",Oe.value="",Pe.value=""}})),de.addEventListener("click",(function(){var e=_e.value;E.postMessage({type:a.a.MESSAGE_FROM_CONNECTOR,message:{message:e}})})),Y.addEventListener("click",(function(){E.postMessage({type:a.a.CONNECT_PARTICIPANT})})),$.addEventListener("click",(function(){E.postMessage({type:a.a.REMOVE_PARTICIPANT,participantType:a.a.PARTICIPANT_TYPE.THIRD_PARTY})})),le.addEventListener("click",(function(){Te.classList.toggle("slds-is-open")})),j.addEventListener("click",(function(){var e={phoneNumber:Me=G.value,type:"PhoneNumber"};E.postMessage({type:a.a.HARDPHONE_EVENT,eventType:a.a.EVENT_TYPE.PARTICIPANT_ADDED,payload:{call:De,contact:e}})})),F.addEventListener("click",(function(){Me=G.value,E.postMessage({type:a.a.REQUEST_CALLBACK,payload:{phoneNumber:Me}})})),W.addEventListener("click",(function(){E.postMessage({type:a.a.HARDPHONE_EVENT,eventType:a.a.EVENT_TYPE.MUTE_TOGGLE,payload:{isMuted:!0}})})),K.addEventListener("click",(function(){E.postMessage({type:a.a.HARDPHONE_EVENT,eventType:a.a.EVENT_TYPE.MUTE_TOGGLE,payload:{isMuted:!1}})})),Q.addEventListener("click",(function(){E.postMessage({type:a.a.HARDPHONE_EVENT,eventType:a.a.EVENT_TYPE.HOLD_TOGGLE,payload:{call:De,isCustomerOnHold:!0}})})),J.addEventListener("click",(function(){E.postMessage({type:a.a.HARDPHONE_EVENT,eventType:a.a.EVENT_TYPE.HOLD_TOGGLE,payload:{call:De,isCustomerOnHold:!1}})})),z.addEventListener("click",(function(){E.postMessage({type:a.a.HARDPHONE_EVENT,eventType:a.a.EVENT_TYPE.RECORDING_TOGGLE,payload:{call:De,isRecordingPaused:!1}})})),q.addEventListener("click",(function(){E.postMessage({type:a.a.HARDPHONE_EVENT,eventType:a.a.EVENT_TYPE.RECORDING_TOGGLE,payload:{call:De,isRecordingPaused:!0}})})),X.addEventListener("click",(function(){E.postMessage({type:a.a.HARDPHONE_EVENT,eventType:a.a.EVENT_TYPE.PARTICIPANTS_SWAPPED,payload:{call:De,thirdPartyCall:ye}})})),Z.addEventListener("click",(function(){E.postMessage({type:a.a.HARDPHONE_EVENT,eventType:a.a.EVENT_TYPE.PARTICIPANTS_CONFERENCED,payload:[De,ye]})})),Ie.addEventListener("click",(function(){E.postMessage({type:a.a.AGENT_HANGUP,reason:a.a.HANGUP_REASON.PHONE_CALL_ERROR,agentErrorStatus:a.a.AGENT_ERROR_STATUS.MISSED_BY_AGENT})})),Le.addEventListener("click",(function(){E.postMessage({type:a.a.AGENT_HANGUP,reason:a.a.HANGUP_REASON.PHONE_CALL_ERROR,agentErrorStatus:"AnyVendorError"})})),ve.addEventListener("click",(function(){var e=JSON.parse(ge.value);E.postMessage({type:a.a.SEND_AUDIO_STATS,audioStats:e})}))},2:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0}});